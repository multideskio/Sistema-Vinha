function formatImput(){var cleaveCpf=new Cleave(".cpf",{numericOnly:!0,delimiters:[".",".","-"],blocks:[3,3,3,2],uppercase:!0}),cleaveCep=new Cleave(".cep",{numericOnly:!0,delimiters:["-"],blocks:[5,3],uppercase:!0}),cleaveTelFixo=new Cleave(".telFixo",{numericOnly:!0,delimiters:["(",") ","-"],blocks:[0,2,4,4]}),cleaveCelular=new Cleave(".celular",{numericOnly:!0,delimiters:["+"," (",") "," ","-"],blocks:[0,2,2,1,4,4]})}function sends(){$(".enviaLinks").on("change",()=>{$(".formTexts").submit()}),$("#profile-img-file-input").on("change",()=>{$(".formUpload").submit()}),$(".formTexts").ajaxForm({beforeSubmit:function(formData,jqForm,options){options.type="PUT"},success:function(responseText,statusText,xhr,$form){$(".alertAlterado").show(),setTimeout(()=>{$(".alertAlterado").fadeOut()},1200)},error:function(xhr,status,error){console.log(xhr),console.log(status),console.log(error)}}),$(".formGeral").ajaxForm({beforeSubmit:function(formData,jqForm,options){options.type="PUT"},success:function(responseText,statusText,xhr,$form){Swal.fire({text:"Atualizado com sucesso!",icon:"success"})},error:function(xhr,status,error){Swal.fire({text:"Erro ao atualizar...",icon:"error"})}}),$(".formUpload").ajaxForm({beforeSubmit:function(formData,jqForm,options){console.log("Enviando...")},success:function(responseText,statusText,xhr,$form){Swal.fire({text:"Imagem atualizada com sucesso!",icon:"success"})},error:function(xhr,status,error){Swal.fire({text:"Erro ao atualizar imagem",icon:"error"})}})}function searchUpdate(id){if(id){var url=`${_baseUrl}api/v1/supervisores/${id}`;$.getJSON(url).done((function(data,textStatus,jqXHR){data.foto&&$("#fotoPerfil").attr("src",data.foto),$("#viewNameUser").html(data.nome),$("#facebook").val(data.facebook),$("#website").val(data.website),$("#instagram").val(data.instagram),$("#nome").val(data.nome),$("#sobrenome").val(data.sobrenome),$("#cpf").val(data.cpf),$("#cel").val(data.celular),$("#email").val(data.email),$("#tel").val(data.telefone),$("#cep").val(data.cep),$("#uf").val(data.uf),$("#cidade").val(data.cidade),$("#bairro").val(data.bairro),$("#complemento").val(data.complemento),$("#dizimo").val(data.data_dizimo),$("#gerente").val(data.gerente),$("#regiao").val(data.regiao),globalIdLogin=data.id_login,atualizarTabela(),listRegioes(data.idRegiao),listGerentes(data.idGerente)})).fail((function(jqXHR,textStatus,errorThrown){$("#fotoPerfil").attr("src","https://placehold.co/50/00000/FFF?text=V"),console.error("Erro ao carregar os dados:",textStatus,errorThrown),$(".loadResult").hide(),Swal.fire({text:"Os dados não foram enconrados",icon:"error"}).then((function(result){history.back()}))})),$("#fotoPerfil").on("error",(function(){$(this).attr("src","https://placehold.co/50/00000/FFF?text=V")}))}else Swal.fire({text:"Os dados não foram encontrados",icon:"error"}).then((function(result){history.back()}))}function listRegioes(idAtual){$("#selectRegiao").empty().removeAttr("required"),$.getJSON(`${_baseUrl}api/v1/regioes`,{},data=>{data.rows.forEach(regiao=>{idAtual===regiao.id?$("#selectRegiao").append(`<option selected value="${regiao.id}">${regiao.id} - ${regiao.nome}</option>`):$("#selectRegiao").append(`<option value="${regiao.id}">${regiao.id} - ${regiao.nome}</option>`)}),$("#selectRegiao").attr("required",!0).attr("data-choices",!0),new Choices("#selectRegiao")}).fail(()=>{Swal.fire({text:"Cadastre regiões antes de cadastrar um supervisor...",icon:"error"}).then(result=>{history.back()})})}function listGerentes(idAtual){$("#selectGerentes").empty().removeAttr("required"),$.getJSON(`${_baseUrl}api/v1/gerentes/list`,{},data=>{data.forEach(gerente=>{idAtual===gerente.id?$("#selectGerentes").append(`<option selected value="${gerente.id}">${gerente.id} - ${gerente.nome} ${gerente.sobrenome}</option>`):$("#selectGerentes").append(`<option value="${gerente.id}">${gerente.id} - ${gerente.nome} ${gerente.sobrenome}</option>`)}),$("#selectGerentes").attr("required",!0).attr("data-choices",!0),new Choices("#selectGerentes")}).fail(()=>{Swal.fire({text:"Cadastre gerentes antes de cadastrar um supervisor...",icon:"error"}).then(result=>{history.back()})})}$(document).ready((function(){searchUpdate(_idSearch),formatImput(),sends()}));