function searchSupervisor(){var option="<option selected value=''>Escolha um supervisor</option>";$(".selectSupervisor").empty().removeAttr("required"),$.getJSON(_baseUrl+"api/v1/public/supervisor",(function(data){$.each(data,(function(index,supervisor){option+=`<option value="${supervisor.id}">${supervisor.id} - ${supervisor.nome} ${supervisor.sobrenome}</option>`})),$(".selectSupervisor").append(option),$(".selectSupervisor").attr("required",!0).attr("data-choices",!0),new Choices("#selectSupervisorIgreja"),new Choices("#selectSupervisor")})).fail(()=>{Swal.fire({title:"Ainda não tem supervisores cadastrados",icon:"error"}).then(result=>{history.back()})})}function formataInputsPastor(){var cleaveCep=new Cleave(".cep",{numericOnly:!0,delimiters:["-"],blocks:[5,3],uppercase:!0}),cleaveCpf=new Cleave(".cpf",{numericOnly:!0,delimiters:[".",".","-"],blocks:[3,3,3,2],uppercase:!0}),cleaveCelular=new Cleave(".whatsapp",{numericOnly:!0,delimiters:["+"," (",") "," ","-"],blocks:[0,2,2,1,4,4]})}function formataInputsIgreja(){var cleaveCpf=new Cleave(".cpf",{numericOnly:!0,delimiters:[".",".","-"],blocks:[3,3,3,2],uppercase:!0})}function formSend(){$(".formSend").ajaxForm({beforeSubmit:function(formData,jqForm,options){let valid=!0;return jqForm.find(":input[required]").each((function(){this.value?$(this).removeClass("is-invalid"):(valid=!1,$(this).addClass("is-invalid"))})),valid||Swal.fire({text:"Por favor, preencha todos os campos obrigatórios.",icon:"error"}),valid},success:function(responseText,statusText,xhr,$form){Swal.fire({text:"Cadastrado com sucesso!",icon:"success"})},error:function(xhr,status,error){xhr.responseJSON&&xhr.responseJSON.messages?exibirMensagem("error",xhr.responseJSON):exibirMensagem("error",{messages:{error:"Erro desconhecido."}})}})}function exibirMensagem(type,error){let messages=error.messages,errorMessage="";for(let key in messages)messages.hasOwnProperty(key)&&(errorMessage+=`${messages[key]}\n`);Swal.fire({title:"error"===type?"Erro ao incluir registro":"Mensagem",text:errorMessage,icon:type})}$(document).ready((function(){searchSupervisor(),formSend(),$("#tipoCadastro").change((function(){var selectedValue=$(this).val();"1"==selectedValue?(formataInputsPastor(),$("#divPastor").show(),$("#divIgreja").hide()):"2"==selectedValue?(formataInputsIgreja(),$("#divPastor").hide(),$("#divIgreja").show()):($("#divPastor").hide(),$("#divIgreja").hide())}))}));