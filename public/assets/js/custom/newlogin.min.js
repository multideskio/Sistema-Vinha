function searchSupervisor(){var option="<option selected value=''>Carregando dados...</option>",listOption=$(".selectSupervisor");listOption.empty().removeAttr("required"),listOption.append(option),$.getJSON(_baseUrl+"api/v1/public/supervisor",(function(data){listOption.empty().removeAttr("required");var option="<option selected value=''>Escolha uma supervisor...</option>";$.each(data,(function(index,supervisor){option+=`<option value="${supervisor.id}">${supervisor.id} - ${supervisor.nome} ${supervisor.sobrenome}</option>`})),listOption.append(option),listOption.attr("required",!0).attr("data-choices",!0),new Choices("#selectSupervisorIgreja"),new Choices("#selectSupervisor")})).fail(()=>{Swal.fire({title:"Ainda não tem supervisores cadastrados",icon:"error"}).then(result=>{history.back()})})}function formSend(){$(".formSend").ajaxForm({beforeSubmit:function(formData,jqForm,options){let valid=!0;return jqForm.find(":input[required]").each((function(){this.value?$(this).removeClass("is-invalid"):(valid=!1,$(this).addClass("is-invalid"))})),valid?(Swal.fire({text:"Cadastrando",icon:"info"}),!0):(Swal.fire({text:"Por favor, preencha todos os campos obrigatórios.",icon:"error"}),!1)},success:function(responseText,statusText,xhr,$form){Swal.fire({title:"Cadastrado com sucesso!",text:"Confirme sua conta clicando no link que enviamos para o seu e-mail",icon:"success"}).then((function(result){window.location.href="/"}))},error:function(xhr,status,error){xhr.responseJSON?xhr.responseJSON.messages&&xhr.responseJSON.messages.error?exibirMensagem("error",xhr.responseJSON.messages.error):xhr.responseJSON.message?exibirMensagem("error",xhr.responseJSON.message):exibirMensagem("error","Erro desconhecido."):exibirMensagem("error","Erro desconhecido.")}})}function exibirMensagem(tipo,message){Swal.fire({text:message,icon:tipo})}function checkPasswordPastor(){$(".auth-pass-inputgroup").each((function(){$(this).find(".password-addon").each((function(){$(this).on("click",(function(){const passwordInput=$(this).closest(".auth-pass-inputgroup").find("#password-input-pastor");"password"===passwordInput.attr("type")?passwordInput.attr("type","text"):passwordInput.attr("type","password")}))}))}));const passwordInput=$("#password-input-pastor"),messageBox=$(".password-contain"),letter=$(".pass-lower"),capital=$(".pass-upper"),number=$(".pass-number"),special=$(".pass-special"),length=$(".pass-length"),btnSend=$("#btn-send-pastor");passwordInput.on("focus",(function(){messageBox.show()})),passwordInput.on("blur",(function(){messageBox.hide()})),passwordInput.on("keyup",(function(){const lowerCaseLetters=/[a-z]/g;passwordInput.val().match(lowerCaseLetters)?letter.removeClass("text-danger").addClass("text-success"):letter.removeClass("text-success").addClass("text-danger");const upperCaseLetters=/[A-Z]/g;passwordInput.val().match(upperCaseLetters)?capital.removeClass("text-danger").addClass("text-success"):capital.removeClass("text-success").addClass("text-danger");const numbers=/[0-9]/g;passwordInput.val().match(numbers)?number.removeClass("text-danger").addClass("text-success"):number.removeClass("text-success").addClass("text-danger");const specialCharacters=/[!@#$%^&*(),.?":{}|<>]/g;passwordInput.val().match(specialCharacters)?special.removeClass("text-danger").addClass("text-success"):special.removeClass("text-success").addClass("text-danger"),passwordInput.val().length>=8?length.removeClass("text-danger").addClass("text-success"):length.removeClass("text-success").addClass("text-danger"),passwordInput.val().match(lowerCaseLetters)&&passwordInput.val().match(upperCaseLetters)&&passwordInput.val().match(numbers)&&passwordInput.val().match(specialCharacters)&&passwordInput.val().length>=8?btnSend.show():btnSend.hide()}))}function formatarPastor(){const cep=new Cleave("#p_cep",{numericOnly:!0,delimiters:["-"],blocks:[5,3]}),whatsapp=new Cleave("#p_whatsapp",{numericOnly:!0,delimiters:["+"," (",") "," ","-"],blocks:[0,2,2,1,4,4]}),cpf=new Cleave("#p_cpf",{numericOnly:!0,delimiters:[".",".","-"],blocks:[3,3,3,2]})}function formataIgreja(){var cep=new Cleave("#i_cep",{numericOnly:!0,delimiters:["-"],blocks:[5,3],uppercase:!0}),whatsapp=new Cleave("#i_whatsapp",{numericOnly:!0,delimiters:["+"," (",") "," ","-"],blocks:[0,2,2,1,4,4]}),cpf=new Cleave("#i_cpf",{numericOnly:!0,delimiters:[".",".","-"],blocks:[3,3,3,2],uppercase:!0}),cnpj=new Cleave("#i_cnpj",{numericOnly:!0,blocks:[2,3,3,4,2],delimiters:[".",".","/","-"],uppercase:!0})}function checkPasswordIgreja(){$("#auth-pass-inputgroup-igreja").each((function(){$(this).find(".password-addon").each((function(){$(this).on("click",(function(){const passwordInput=$(this).closest("#auth-pass-inputgroup-igreja").find("#password-input-igreja");"password"===passwordInput.attr("type")?passwordInput.attr("type","text"):passwordInput.attr("type","password")}))}))}));const passwordInput=$("#password-input-igreja"),messageBox=$(".password-contain"),letter=$(".pass-lower"),capital=$(".pass-upper"),number=$(".pass-number"),special=$(".pass-special"),length=$(".pass-length"),btnSend=$("#btn-send-pastor");passwordInput.on("focus",(function(){messageBox.show()})),passwordInput.on("blur",(function(){messageBox.hide()})),passwordInput.on("keyup",(function(){const lowerCaseLetters=/[a-z]/g;passwordInput.val().match(lowerCaseLetters)?letter.removeClass("text-danger").addClass("text-success"):letter.removeClass("text-success").addClass("text-danger");const upperCaseLetters=/[A-Z]/g;passwordInput.val().match(upperCaseLetters)?capital.removeClass("text-danger").addClass("text-success"):capital.removeClass("text-success").addClass("text-danger");const numbers=/[0-9]/g;passwordInput.val().match(numbers)?number.removeClass("text-danger").addClass("text-success"):number.removeClass("text-success").addClass("text-danger");const specialCharacters=/[!@#$%^&*(),.?":{}|<>]/g;passwordInput.val().match(specialCharacters)?special.removeClass("text-danger").addClass("text-success"):special.removeClass("text-success").addClass("text-danger"),passwordInput.val().length>=8?length.removeClass("text-danger").addClass("text-success"):length.removeClass("text-success").addClass("text-danger"),passwordInput.val().match(lowerCaseLetters)&&passwordInput.val().match(upperCaseLetters)&&passwordInput.val().match(numbers)&&passwordInput.val().match(specialCharacters)&&passwordInput.val().length>=8?btnSend.show():btnSend.hide()}))}$(document).ready((function(){searchSupervisor(),formSend(),$("#tipoCadastro").change((function(){var selectedValue=$(this).val();"1"==selectedValue?(formatarPastor(),checkPasswordPastor(),$("#divPastor").show(),$("#divIgreja").hide()):"2"==selectedValue?(checkPasswordIgreja(),formataIgreja(),$("#divPastor").hide(),$("#divIgreja").show()):($("#divPastor").hide(),$("#divIgreja").hide())}))}));