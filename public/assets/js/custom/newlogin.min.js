let selectSupervisorIgreja,selectSupervisor;function searchSupervisor(){selectSupervisorIgreja&&selectSupervisorIgreja.destroy(),selectSupervisor&&selectSupervisor.destroy();var option="<option selected value=''>Carregando dados...</option>",listOption=$(".selectSupervisor");listOption.empty().removeAttr("required"),listOption.append(option),$.getJSON(_baseUrl+"api/v1/public/supervisor",(function(data){listOption.empty().removeAttr("required");var option="<option selected value=''>Escolha uma supervisor...</option>";$.each(data,(function(index,supervisor){option+=`<option value="${supervisor.id}">${supervisor.id} - ${supervisor.nome} ${supervisor.sobrenome}</option>`})),listOption.append(option),listOption.attr("required",!0).attr("data-choices",!0),selectSupervisorIgreja=initializeChoices("#selectSupervisorIgreja"),selectSupervisor=initializeChoices("#selectSupervisor")})).fail(()=>{Swal.fire({title:"Ainda não tem supervisores cadastrados",icon:"error"}).then(result=>{history.back()})})}function initializeChoices(selector){return"undefined"!=typeof Choices?new Choices(selector,{allowHTML:!0}):(console.error(`Choices.js não foi carregado corretamente ou não está definido para o seletor: ${selector}`),null)}function formSend(){$(".formSend").ajaxForm({beforeSubmit:function(formData,jqForm,options){let valid=!0;return jqForm.find(":input[required]").each((function(){this.value?$(this).removeClass("is-invalid"):(valid=!1,$(this).addClass("is-invalid"))})),valid?(exibirMensagem("info","Enviando dados"),!0):(exibirMensagem("error","Por favor, preencha todos os campos obrigatórios."),!1)},success:function(responseText,statusText,xhr,$form){Swal.fire({title:"Cadastrado com sucesso!",text:"Confirme sua conta clicando no link que enviamos para o seu e-mail",icon:"success"}).then((function(result){window.location.href="/"}))},error:function(xhr,status,error){xhr.responseJSON?xhr.responseJSON.messages&&xhr.responseJSON.messages.error?exibirMensagem("error",xhr.responseJSON.messages.error):xhr.responseJSON.message?exibirMensagem("error",xhr.responseJSON.message):exibirMensagem("error","Erro desconhecido."):exibirMensagem("error","Erro desconhecido.")}})}function exibirMensagem(tipo,message){Swal.fire({text:message,icon:tipo})}function checkPasswordPastor(){$(".auth-pass-inputgroup").each((function(){$(this).find(".password-addon").each((function(){$(this).on("click",(function(){const passwordInput=$(this).closest(".auth-pass-inputgroup").find("#password-input-pastor");"password"===passwordInput.attr("type")?passwordInput.attr("type","text"):passwordInput.attr("type","password")}))}))}));const passwordInput=$("#password-input-pastor"),messageBox=$(".password-contain"),letter=$(".pass-lower"),capital=$(".pass-upper"),number=$(".pass-number"),special=$(".pass-special"),length=$(".pass-length"),btnSend=$("#btn-send-pastor");passwordInput.on("focus",(function(){messageBox.show()})),passwordInput.on("blur",(function(){messageBox.hide()})),passwordInput.on("keyup",(function(){const lowerCaseLetters=/[a-z]/g;passwordInput.val().match(lowerCaseLetters)?letter.removeClass("text-danger").addClass("text-success"):letter.removeClass("text-success").addClass("text-danger");const upperCaseLetters=/[A-Z]/g;passwordInput.val().match(upperCaseLetters)?capital.removeClass("text-danger").addClass("text-success"):capital.removeClass("text-success").addClass("text-danger");const numbers=/[0-9]/g;passwordInput.val().match(numbers)?number.removeClass("text-danger").addClass("text-success"):number.removeClass("text-success").addClass("text-danger");const specialCharacters=/[!@#$%^&*(),.?":{}|<>]/g;passwordInput.val().match(specialCharacters)?special.removeClass("text-danger").addClass("text-success"):special.removeClass("text-success").addClass("text-danger"),passwordInput.val().length>=8?length.removeClass("text-danger").addClass("text-success"):length.removeClass("text-success").addClass("text-danger"),passwordInput.val().match(lowerCaseLetters)&&passwordInput.val().match(upperCaseLetters)&&passwordInput.val().match(numbers)&&passwordInput.val().match(specialCharacters)&&passwordInput.val().length>=8?btnSend.show():btnSend.hide()}))}function setupInputMasks(){const maskConfigs=[{selector:".cpf",mask:"000.000.000-00"},{selector:".cep",mask:"00000-000"},{selector:".telFixo",mask:"(00) 0000-0000"},{selector:".whatsapp",mask:"+00 (00) 0 0000-0000"},{selector:".cnpj",mask:"00.000.000/0000-00"}];maskConfigs.forEach(config=>{$(config.selector).mask(config.mask)})}$(document).ready((function(){setupInputMasks(),searchSupervisor(),formSend(),$("#tipoCadastro").change((function(){var selectedValue=$(this).val();"1"==selectedValue?($("#divPastor").show(),$("#divIgreja").hide()):"2"==selectedValue?(checkPasswordIgreja(),$("#divPastor").hide(),$("#divIgreja").show()):($("#divPastor").hide(),$("#divIgreja").hide())}))}));